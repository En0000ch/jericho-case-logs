{"version":3,"file":"js/design-library.d0f0abd8.js","mappings":"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","sources":["webpack://builder/./src/subapps/design-library/ManageDesignLibrary.vue","webpack://builder/./src/subapps/design-library/DesignLibraryStatusIcon.vue","webpack://builder/./src/subapps/design-library/DesignLibraryStatusIcon.vue?98eb","webpack://builder/./src/subapps/design-library/DesignLibraryStatusIcon.vue?a809","webpack://builder/./src/subapps/design-library/DesignLibraryStatusIcon.vue?ac9a","webpack://builder/./src/subapps/design-library/DesignLibraryImportingDialog.vue","webpack://builder/./src/subapps/design-library/DesignLibraryImportingDialog.vue?d9c6","webpack://builder/./src/subapps/design-library/DesignLibraryImportingDialog.vue?c4dd","webpack://builder/./src/subapps/design-library/DesignLibraryImportingDialog.vue?c300","webpack://builder/./src/subapps/design-library/DesignLibraryItem.vue","webpack://builder/./src/subapps/design-library/DesignLibraryItem.vue?fa29","webpack://builder/./src/subapps/design-library/DesignLibraryItem.vue?f157","webpack://builder/./src/subapps/design-library/DesignLibraryItem.vue?74a8","webpack://builder/./src/subapps/design-library/DesignLibraryConfirmImportDialog.vue","webpack://builder/./src/subapps/design-library/DesignLibraryConfirmImportDialog.vue?3875","webpack://builder/./src/subapps/design-library/DesignLibraryConfirmImportDialog.vue?2e0c","webpack://builder/./src/subapps/design-library/DesignLibraryConfirmImportDialog.vue?c0db","webpack://builder/./src/subapps/design-library/ManageDesignLibrary.vue?5df0","webpack://builder/./src/subapps/design-library/ManageDesignLibrary.vue?1826","webpack://builder/./src/subapps/design-library/ManageDesignLibrary.vue?d470","webpack://builder/./src/subapps/design-library/entry.ts","webpack://builder/webpack/bootstrap","webpack://builder/webpack/runtime/chunk loaded","webpack://builder/webpack/runtime/compat get default export","webpack://builder/webpack/runtime/define property getters","webpack://builder/webpack/runtime/global","webpack://builder/webpack/runtime/hasOwnProperty shorthand","webpack://builder/webpack/runtime/make namespace object","webpack://builder/webpack/runtime/node module decorator","webpack://builder/webpack/runtime/runtimeId","webpack://builder/webpack/runtime/jsonp chunk loading","webpack://builder/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app',{staticClass:\"breakdance-admin-wp\"},[(_vm.isLoading)?_c('Loading'):_vm._e(),_c('Notifications'),_c('div',{staticClass:\"design-library\"},[_c('h1',{staticClass:\"design-library__title\"},[_vm._v(\"Design Library\")]),_c('div',{staticClass:\"design-library__grid\"},_vm._l((_vm.designProviders),function(designProvider){return _c('DesignLibraryItem',{key:designProvider.name,attrs:{\"provider\":designProvider},on:{\"select\":_vm.setProviderToImport}})}),1)]),(_vm.showOverrideWarning)?_c('DesignLibraryConfirmImportDialog',{attrs:{\"provider\":_vm.providerToImport,\"provider-data\":_vm.loadedData,\"show-password-form\":_vm.showPasswordForm,\"loading\":_vm.loadingDesignSetData},on:{\"refresh\":_vm.getDesignSetData,\"import\":_vm.importFullSite,\"close\":_vm.closeOverrideWarningDialog}}):(_vm.showImportingDialog)?_c('DesignLibraryImportingDialog',{attrs:{\"value\":_vm.providerToImport},on:{\"close\":_vm.closeImportingDialog}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[(_vm.status === 'loading')?_c('Icon',{staticClass:\"design_library__spinning_icon\",attrs:{\"icon\":\"SpinnerIcon\",\"title\":\"Importing the data\"}}):(_vm.status === 'success' || _vm.status === 'successNothingToDo')?_c('Icon',{staticClass:\"design_library__icon_success\",attrs:{\"icon\":\"CheckSquareIcon\",\"title\":\"Success loading the data\"}}):(_vm.status === 'error' || !_vm.status)?_c('Icon',{staticClass:\"design_library__icon_error\",attrs:{\"icon\":\"CloseSquareIcon\",\"title\":\"There was an error loading the data\"}}):(_vm.status === 'partialError')?_c('Icon',{staticClass:\"design_library__icon_partial_error\",attrs:{\"icon\":\"ExclamationMarkCircleIcon\",\"title\":\"Some requests failed. Try again\"}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { RequestStatus } from \"@/subapps/design-library/types\";\n@Component({\n  components: { Icon }\n})\nexport default class extends Vue {\n  @Prop()\n  status!: RequestStatus;\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryStatusIcon.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryStatusIcon.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibraryStatusIcon.vue?vue&type=template&id=55733bf8&\"\nimport script from \"./DesignLibraryStatusIcon.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibraryStatusIcon.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibraryStatusIcon.vue?vue&type=style&index=0&id=55733bf8&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"value\":true,\"width\":500,\"persistent\":true},on:{\"input\":_vm.close}},[_c('v-card',{staticClass:\"breakdance-dialog\",attrs:{\"tile\":\"\",\"flat\":\"\"}},[_c('v-card-title',{staticClass:\"breakdance-dialog-title\"},[_vm._v(\" Importing the \\\"\"+_vm._s(_vm.value ? _vm.value.name : \"\")+\"\\\" site \")]),_c('v-card-text',{staticClass:\"breakdance-dialog-contents\"},[_c('div',{staticClass:\"design_library__importing_item\"},[_c('DesignLibraryStatusIcon',{attrs:{\"status\":_vm.importingDataStatus['trashingTemplates']}}),_c('div',[(_vm.importingDataStatus['trashingTemplates'] === 'loading')?_c('span',[_vm._v(\" Trashing \")]):(_vm.importingDataStatus['trashingTemplates'] === 'success')?_c('span',[_vm._v(\" Successfully trashed \")]):(_vm.importingDataStatus['trashingTemplates'] === 'error')?_c('span',[_vm._v(\" Error trashing \")]):_vm._e(),_vm._v(\" existing Templates, Headers, Footers, \"+_vm._s(_vm.$bdox(\"global_blocks\"))+\", and Popups. \")])],1),_vm._l((_vm.infoToImport),function(info){return _c('div',{staticClass:\"design_library__importing_item\"},[_c('DesignLibraryStatusIcon',{attrs:{\"status\":_vm.importingDataStatus[info.statusKey]}}),_c('div',[(_vm.importingDataStatus[info.statusKey] === 'loading')?_c('span',[_vm._v(\" Importing \")]):(_vm.importingDataStatus[info.statusKey] === 'success')?_c('span',[_vm._v(\" Successfully imported \")]):(\n              _vm.importingDataStatus[info.statusKey] === 'successNothingToDo'\n            )?_c('span',[_vm._v(\" Nothing to import for \")]):(_vm.importingDataStatus[info.statusKey] === 'error')?_c('span',[_vm._v(\" Error importing \")]):(_vm.importingDataStatus[info.statusKey] === 'partialError')?_c('span',[_vm._v(\" Failed to import all \")]):_vm._e(),_c('b',[_vm._v(_vm._s(info.label))])])],1)}),(!_vm.canCloseImportingDialog)?_c('v-alert',{staticClass:\"mt-4\",attrs:{\"text\":\"\",\"color\":\"red\"}},[_c('span',{staticClass:\"text-body-2\"},[_vm._v(\"Please don't close this tab until the import is finished.\")])]):_vm._e()],2),(_vm.canCloseImportingDialog)?_c('v-card-actions',{staticClass:\"breakdance-dialog-actions\"},[_c('v-btn',{on:{\"click\":_vm.close}},[_vm._v(\" Close \")]),(_vm.getImportedSiteHomepageUrl)?_c('v-btn',{staticClass:\"ml-2\",attrs:{\"href\":_vm.getImportedSiteHomepageUrl,\"target\":\"_blank\",\"color\":\"primary\",\"link\":true}},[_vm._v(\" Open in \"+_vm._s(_vm.$bdox(\"plugin_name\"))+\" \")]):_vm._e()],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { DesignProvider } from \"@/types/design-library\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport * as t from \"io-ts\";\nimport { fold } from \"fp-ts/Either\";\nimport DesignLibraryStatusIcon from \"@/subapps/design-library/DesignLibraryStatusIcon.vue\";\nimport {\n  DataStatuses,\n  RequestStatus,\n  TemplateIdsToImport,\n  TemplateIdsToImportV\n} from \"@/subapps/design-library/types\";\nimport { PropertiesDataV } from \"@/types/tree\";\nimport { regenerateGlobalSettingsCache } from \"@/lib/wordpress/regenerate-posts-cache\";\nimport { centerDialogInScreen } from \"@/subapps/manage-templates/lib/modal-position\";\n\n@Component({\n  components: { DesignLibraryStatusIcon }\n})\nexport default class DesignLibraryImportingDialog extends Vue {\n  @Prop()\n  value!: false | DesignProvider;\n\n  importingDataStatus: DataStatuses = {\n    trashingTemplates: null,\n    globalSettings: null,\n    designPresets: null,\n    postsAndPages: null,\n    templates: null,\n    headers: null,\n    footers: null,\n    popups: null,\n    blocks: null\n  };\n\n  // makes it simple to store error/success states while making requests\n  temporaryDataStatus: DataStatuses = {\n    trashingTemplates: null,\n    globalSettings: null,\n    designPresets: null,\n    postsAndPages: null,\n    templates: null,\n    headers: null,\n    footers: null,\n    popups: null,\n    blocks: null\n  };\n\n  remoteHomepageId: null | number = null;\n  importedHomepageIdOrFirstPostId: null | number = null;\n  idsOfPostsAndPagesToImport: null | number[] = null;\n\n  async mounted() {\n    if (!this.value) {\n      NotificationLogger.log.errorMessage(\n        \"Couldn't import site, something went wrong\"\n      );\n      return;\n    }\n\n    centerDialogInScreen();\n\n    this.applyStatusToAllTemplateStatuses(\"loading\");\n    this.importingDataStatus.postsAndPages = \"loading\";\n    this.importingDataStatus.globalSettings = \"loading\";\n    this.importingDataStatus.designPresets = \"loading\";\n    this.importingDataStatus.trashingTemplates = \"loading\";\n\n    this.setFullSiteLastImportedFromUrl();\n\n    this.importGlobalSettings();\n    this.importDesignPresets();\n\n    // we need to verify the homepage id against imported pages, so await it\n    await this.getRemoteHomepageId();\n\n    this.importPostsAndPages();\n\n    // do it before importing\n    await this.trashAllTemplatesHeadersFooters();\n\n    this.importAllTemplates();\n  }\n\n  get infoToImport(): { label: string; statusKey: keyof DataStatuses }[] {\n    return [\n      {\n        label: \"Global Settings\",\n        statusKey: \"globalSettings\"\n      },\n      {\n        label: \"Design Presets\",\n        statusKey: \"designPresets\"\n      },\n      {\n        label: \"Posts and Pages\",\n        statusKey: \"postsAndPages\"\n      },\n      {\n        label: \"Templates\",\n        statusKey: \"templates\"\n      },\n      {\n        label: \"Headers\",\n        statusKey: \"headers\"\n      },\n      {\n        label: \"Footers\",\n        statusKey: \"footers\"\n      },\n      {\n        label: \"Popups\",\n        statusKey: \"popups\"\n      },\n      {\n        label: \"Blocks\",\n        statusKey: \"blocks\"\n      }\n    ];\n  }\n\n  get canCloseImportingDialog() {\n    const isDone = (status: RequestStatus) => status !== \"loading\";\n\n    return (\n      isDone(this.importingDataStatus.postsAndPages) &&\n      isDone(this.importingDataStatus.globalSettings) &&\n      isDone(this.importingDataStatus.designPresets) &&\n      isDone(this.importingDataStatus.templates) &&\n      isDone(this.importingDataStatus.blocks) &&\n      isDone(this.importingDataStatus.popups) &&\n      isDone(this.importingDataStatus.footers) &&\n      isDone(this.importingDataStatus.headers)\n    );\n  }\n\n  get getImportedSiteHomepageUrl() {\n    if (\n      !this.value ||\n      !this.importedHomepageIdOrFirstPostId ||\n      !window.Breakdance.homeUrl\n    ) {\n      return null;\n    }\n\n    const updatedUrl = new URL(window.Breakdance.homeUrl);\n\n    updatedUrl.searchParams.append(\"breakdance\", \"builder\");\n    updatedUrl.searchParams.append(\n      \"id\",\n      `${this.importedHomepageIdOrFirstPostId}`\n    );\n\n    return updatedUrl.href;\n  }\n\n  close() {\n    this.$emit(\"close\");\n  }\n\n  setFullSiteLastImportedFromUrl() {\n    if (!this.value) return;\n\n    makeWordPressAjaxRequest({\n      action: \"breakdance_save_arbitrary\",\n      dataToPost: {\n        key: \"design_library_full_site_last_imported_from_url\",\n        data: this.value.url\n      },\n      decoder: t.unknown\n    });\n  }\n\n  async importGlobalSettings() {\n    if (!this.value) return;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_import_external_global_settings\",\n        decoder: PropertiesDataV,\n        dataToPost: {\n          url: this.value.url\n        },\n        friendlyName: \"Importing Global Settings\"\n      }),\n      fold(\n        () => {\n          this.importingDataStatus.globalSettings = \"error\";\n        },\n        () => {\n          regenerateGlobalSettingsCache();\n          this.importingDataStatus.globalSettings = \"success\";\n        }\n      )\n    );\n  }\n\n  async importDesignPresets() {\n    if (!this.value) return;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_import_external_design_presets\",\n        decoder: t.type({ success: t.string }),\n        dataToPost: {\n          url: this.value.url\n        },\n        friendlyName: \"Importing Design Presets\"\n      }),\n      fold(\n        () => {\n          this.importingDataStatus.designPresets = \"error\";\n        },\n        () => {\n          this.importingDataStatus.designPresets = \"success\";\n        }\n      )\n    );\n  }\n\n  async importPostsAndPages() {\n    if (!this.value) return;\n\n    this.idsOfPostsAndPagesToImport = await this.getPostsIdsToImport(\n      this.value.url\n    );\n\n    if (this.idsOfPostsAndPagesToImport === null) {\n      this.importingDataStatus.postsAndPages = \"error\";\n\n      return;\n    }\n\n    if (!this.idsOfPostsAndPagesToImport.length) {\n      this.importingDataStatus.postsAndPages = \"successNothingToDo\";\n      return;\n    }\n\n    this.importPostsAndPagesOneByOne(this.idsOfPostsAndPagesToImport);\n  }\n\n  async getPostsIdsToImport(url: string) {\n    return pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_design_lib_get_ids_of_posts_and_pages_to_import\",\n        decoder: t.union([t.array(t.number), t.null]),\n        dataToPost: {\n          url: url\n        },\n        friendlyName: \"Getting Posts IDs to import\"\n      }),\n      fold(\n        () => null,\n        idsOfPostsToImport => idsOfPostsToImport\n      )\n    );\n  }\n\n  async importPostsAndPagesOneByOne(idsOfPostsAndPagesToImport: number[]) {\n    if (!this.value) return;\n\n    let anyPostFailed = false;\n    let anyPostSucceeded = false;\n\n    let firstPostId: number | null = null;\n\n    for (const id of idsOfPostsAndPagesToImport) {\n      pipe(\n        await makeWordPressAjaxRequest({\n          action: \"breakdance_design_lib_import_post_or_page\",\n          decoder: t.type({\n            success: t.string,\n            postId: t.union([t.number, t.undefined])\n          }),\n          dataToPost: {\n            url: this.value.url,\n            id\n          },\n          friendlyName: \"Importing all post and pages\"\n        }),\n        fold(\n          () => {\n            anyPostFailed = true;\n          },\n          response => {\n            if (!firstPostId && response.postId) {\n              firstPostId = response.postId;\n            }\n\n            if (id === this.remoteHomepageId && response.postId) {\n              this.importedHomepageIdOrFirstPostId = response.postId;\n            }\n\n            anyPostSucceeded = true;\n          }\n        )\n      );\n    }\n\n    // in case there's no homepage, maybe it's a posts page, or it's not breakdance.\n    if (!this.importedHomepageIdOrFirstPostId) {\n      this.importedHomepageIdOrFirstPostId = firstPostId;\n    }\n\n    this.updateTemporaryState(\"postsAndPages\", anyPostFailed, anyPostSucceeded);\n    this.importingDataStatus.postsAndPages =\n      this.temporaryDataStatus.postsAndPages;\n  }\n\n  updateTemporaryState(\n    statusName: keyof DataStatuses,\n    anyPostFailed: boolean,\n    anyPostSucceeded: boolean\n  ) {\n    if (anyPostFailed && anyPostSucceeded) {\n      this.temporaryDataStatus[statusName] = \"partialError\";\n    } else if (anyPostFailed) {\n      this.temporaryDataStatus[statusName] = \"error\";\n    } else if (anyPostSucceeded) {\n      this.temporaryDataStatus[statusName] = \"success\";\n    }\n  }\n\n  async trashAllTemplatesHeadersFooters() {\n    // run them in parallel\n    const result = await Promise.all([\n      this.trashTemplateByPostType(\"headers\"),\n      this.trashTemplateByPostType(\"footers\"),\n      this.trashTemplateByPostType(\"templates\"),\n      this.trashTemplateByPostType(\"global_blocks\"),\n      this.trashTemplateByPostType(\"popups\")\n    ]);\n\n    this.importingDataStatus[\"trashingTemplates\"] =\n      this.temporaryDataStatus[\"trashingTemplates\"];\n\n    return result;\n  }\n\n  async trashTemplateByPostType(\n    $templateType:\n      | \"headers\"\n      | \"footers\"\n      | \"templates\"\n      | \"global_blocks\"\n      | \"popups\"\n  ) {\n    return pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_design_lib_trash_all_templates_by_type\",\n        decoder: t.type({ success: t.string }),\n        dataToPost: {\n          templateType: $templateType\n        },\n        friendlyName: `Trashing all ${$templateType}`\n      }),\n      fold(\n        () => {\n          this.updateTemporaryState(\n            \"trashingTemplates\",\n            true,\n            this.temporaryDataStatus[\"trashingTemplates\"] === \"success\"\n          );\n        },\n        () => {\n          this.updateTemporaryState(\n            \"trashingTemplates\",\n            this.temporaryDataStatus[\"trashingTemplates\"] === \"error\",\n            true\n          );\n        }\n      )\n    );\n  }\n\n  async importAllTemplates() {\n    if (!this.value) return;\n\n    const idsOfTemplatesToImport: TemplateIdsToImport | null =\n      await this.getTemplateIdsToImport(this.value.url);\n\n    if (!idsOfTemplatesToImport) {\n      return;\n    }\n\n    // no ids, so nothing to import\n    if (Object.values(idsOfTemplatesToImport).flat().length === 0) {\n      this.applyStatusToAllTemplateStatuses(\"successNothingToDo\");\n      return;\n    }\n\n    // not awaiting these to make them run in parallel\n    this.importTemplates(idsOfTemplatesToImport.templateIds);\n    this.importHeaders(idsOfTemplatesToImport.headerIds);\n    this.importFooter(idsOfTemplatesToImport.footerIds);\n    this.importPopups(idsOfTemplatesToImport.popupIds);\n    this.importBlocks(idsOfTemplatesToImport.blockIds);\n  }\n\n  applyStatusToAllTemplateStatuses(status: RequestStatus) {\n    this.importingDataStatus.templates = status;\n    this.importingDataStatus.headers = status;\n    this.importingDataStatus.footers = status;\n    this.importingDataStatus.blocks = status;\n    this.importingDataStatus.popups = status;\n  }\n\n  async getTemplateIdsToImport(url: string) {\n    return pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_design_lib_get_ids_of_templates_to_import\",\n        decoder: TemplateIdsToImportV,\n        dataToPost: {\n          url: url\n        },\n        friendlyName: \"Getting template IDs to import\"\n      }),\n      fold(\n        () => {\n          this.applyStatusToAllTemplateStatuses(\"error\");\n\n          return null;\n        },\n        idsOfTemplates => idsOfTemplates\n      )\n    );\n  }\n\n  async importTemplates(idsToImport: number[]) {\n    if (!idsToImport.length) {\n      this.importingDataStatus.templates = \"successNothingToDo\";\n      return;\n    }\n\n    for (const id of idsToImport) {\n      await this.importTemplateById(id, \"templates\");\n    }\n\n    this.importingDataStatus.templates = this.temporaryDataStatus.templates;\n    this.temporaryDataStatus.templates = null;\n  }\n\n  async importHeaders(idsToImport: number[]) {\n    if (!idsToImport.length) {\n      this.importingDataStatus.headers = \"successNothingToDo\";\n      return;\n    }\n\n    for (const id of idsToImport) {\n      await this.importTemplateById(id, \"headers\");\n    }\n\n    this.importingDataStatus.headers = this.temporaryDataStatus.headers;\n    this.temporaryDataStatus.headers = null;\n  }\n\n  async importFooter(idsToImport: number[]) {\n    if (!idsToImport.length) {\n      this.importingDataStatus.footers = \"successNothingToDo\";\n      return;\n    }\n\n    for (const id of idsToImport) {\n      await this.importTemplateById(id, \"footers\");\n    }\n\n    this.importingDataStatus.footers = this.temporaryDataStatus.footers;\n    this.temporaryDataStatus.footers = null;\n  }\n\n  async importPopups(idsToImport: number[]) {\n    if (!idsToImport.length) {\n      this.importingDataStatus.popups = \"successNothingToDo\";\n      return;\n    }\n\n    for (const id of idsToImport) {\n      await this.importTemplateById(id, \"popups\");\n    }\n\n    this.importingDataStatus.popups = this.temporaryDataStatus.popups;\n    this.temporaryDataStatus.popups = null;\n  }\n\n  async importBlocks(idsToImport: number[]) {\n    if (!idsToImport.length) {\n      this.importingDataStatus.blocks = \"successNothingToDo\";\n      return;\n    }\n\n    for (const id of idsToImport) {\n      await this.importTemplateById(id, \"blocks\");\n    }\n\n    this.importingDataStatus.blocks = this.temporaryDataStatus.blocks;\n    this.temporaryDataStatus.blocks = null;\n  }\n\n  async importTemplateById(id: number, stateName: keyof DataStatuses) {\n    if (!this.value) return;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_design_lib_import_template_by_id\",\n        decoder: t.type({ success: t.string }),\n        dataToPost: {\n          url: this.value.url,\n          id\n        },\n        friendlyName: `Importing template with ID \"${id}\"`\n      }),\n      fold(\n        () => {\n          this.updateTemporaryState(\n            stateName,\n            true,\n            this.temporaryDataStatus[stateName] === \"success\"\n          );\n        },\n        () => {\n          this.updateTemporaryState(\n            stateName,\n            this.temporaryDataStatus[stateName] === \"error\",\n            true\n          );\n        }\n      )\n    );\n  }\n\n  async getRemoteHomepageId() {\n    if (!this.value) return;\n\n    return pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_design_lib_get_homepage_id_to_import\",\n        decoder: t.type({ id: t.number }),\n        dataToPost: {\n          url: this.value.url\n        },\n        friendlyName: `Importing homepage id`\n      }),\n      fold(\n        () => {},\n        res => {\n          this.remoteHomepageId = res.id;\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryImportingDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryImportingDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibraryImportingDialog.vue?vue&type=template&id=fccd88a6&\"\nimport script from \"./DesignLibraryImportingDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibraryImportingDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibraryImportingDialog.vue?vue&type=style&index=0&id=fccd88a6&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"design-library-item\"},[_c('div',{staticClass:\"design-library-item__preview\"},[_c('span',{staticClass:\"design-library-item__preview-button\"},[_c('v-btn',{attrs:{\"color\":\"secondary\",\"rounded\":\"\"},on:{\"click\":_vm.previewProvider}},[_vm._v(\" Live Preview \")])],1),(_vm.provider.meta?.thumbnailUrl)?_c('img',{staticClass:\"design-library-item__thumbnail\",attrs:{\"src\":_vm.provider.meta?.thumbnailUrl,\"width\":\"300\",\"alt\":`Thumbnail image for the ${_vm.provider.name} site`}}):_c('Icon',{staticClass:\"design-library-item__thumbnail-icon\",attrs:{\"icon\":\"ImageIcon\",\"size\":\"24\"}})],1),_c('div',[_c('div',{staticClass:\"design-library-item__meta\"},[_c('h2',{staticClass:\"design-library-item__title\"},[_vm._v(\" \"+_vm._s(_vm.provider.name)+\" \")]),_c('div',{staticClass:\"design-library-item__import-button\"},[_c('NiceButton',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.$emit('select', _vm.provider.url)}}},[_vm._v(\" Import \")])],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { DesignProvider } from \"@/types/design-library\";\nimport { logEvent } from \"@/util/tracking\";\n\n@Component({\n  components: { Icon, NiceButton }\n})\nexport default class DesignLibraryItem extends Vue {\n  @Prop()\n  provider?: DesignProvider;\n\n  previewProvider() {\n    logEvent(\"Design Library\", {\n      action: \"provider_previewed\",\n      provider: this.provider?.name\n    });\n\n    window.open(this.provider?.url, \"_blank\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibraryItem.vue?vue&type=template&id=2927908a&\"\nimport script from \"./DesignLibraryItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibraryItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibraryItem.vue?vue&type=style&index=0&id=2927908a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dialog',{attrs:{\"value\":true,\"width\":700,\"min-height\":500,\"content-class\":\"design-library-confirm-import-dialog\"},on:{\"close\":function($event){return _vm.$emit('close')},\"click:outside\":function($event){return _vm.$emit('close')},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.$emit('close')}},scopedSlots:_vm._u([{key:\"text\",fn:function(){return [_c('div',{staticClass:\"design-library-confirm-import__grid\"},[_c('div',{staticClass:\"design-library-confirm-import__thumbnail\"},[(_vm.provider.meta?.thumbnailUrl)?_c('img',{attrs:{\"src\":_vm.provider.meta?.thumbnailUrl,\"width\":\"300\",\"alt\":`Thumbnail image for the ${_vm.provider.name} site`}}):_c('Icon',{staticClass:\"design-library-item__thumbnail-icon\",attrs:{\"icon\":\"ImageIcon\",\"size\":\"24\"}})],1),_c('div',{staticClass:\"design-library-confirm-import__content\"},[_c('h3',{staticClass:\"design-library-confirm-import__title\"},[_vm._v(\" Import \"+_vm._s(_vm.provider ? _vm.provider.name : \"\")+\" \")]),(_vm.loading)?_c('LoadingSpinner',{staticClass:\"design-library-confirm-import__loading\",attrs:{\"color\":\"var(--gray500)\",\"size\":45}}):(_vm.showPasswordForm)?_c('DesignLibraryPassword',{attrs:{\"provider\":_vm.provider},on:{\"password-validated\":function($event){return _vm.$emit('refresh', $event)}}}):[_c('p',[_vm._v(\" Importing a full site will override your site's \"),_c('b',[_vm._v(\"Global Settings\")]),_vm._v(\", \"),_c('b',[_vm._v(\"Design Presets\")]),_vm._v(\", \"),_c('b',[_vm._v(_vm._s(_vm.$bdox(\"plugin_name\"))+\" Settings\")]),_vm._v(\", and also import all \"),_c('b',[_vm._v(\"pages\")]),_vm._v(\", \"),_c('b',[_vm._v(\"posts\")]),_vm._v(\", and \"),_c('b',[_vm._v(\"templates\")]),_vm._v(\" from the design set. \")]),_c('p',[_vm._v(\" It will also trash all your existing \"),_c('b',[_vm._v(\"Templates\")]),_vm._v(\", \"),_c('b',[_vm._v(\"Headers\")]),_vm._v(\", \"),_c('b',[_vm._v(\"Footers\")]),_vm._v(\", \"),_c('b',[_vm._v(_vm._s(_vm.$bdox(\"global_blocks\")))]),_vm._v(\", and \"),_c('b',[_vm._v(\"Popups\")]),_vm._v(\". You can restore them from the trash after the import. \")]),(_vm.providerData?.fullSiteLastImportedFromUrl)?_c('v-alert',{attrs:{\"color\":\"red\",\"text\":\"\"}},[(\n                _vm.providerData?.fullSiteLastImportedFromUrl === _vm.provider.url\n              )?_c('span',{staticClass:\"text-body-2\"},[_vm._v(\" You already did full site import for this site. \")]):_c('strong',{staticClass:\"text-body-2\"},[_vm._v(\" The last full site import you performed was for \"+_vm._s(_vm.providerData?.fullSiteLastImportedFromUrl)+\" \")])]):_vm._e(),_c('div',{staticClass:\"design-library-confirm-import__actions\"},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":_vm.importProvider}},[_vm._v(\" Confirm Overwrite & Import \")])],1)]],2)])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\nimport LoadingSpinner from \"@/components/Reusable/LoadingSpinner.vue\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport DesignLibraryPassword from \"@/components/Add/library/DesignLibraryPassword.vue\";\nimport { DesignLibraryData, DesignProvider } from \"@/types/design-library\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { logEvent } from \"@/util/tracking\";\n\n@Component({\n  components: { Icon, DesignLibraryPassword, Dialog, LoadingSpinner }\n})\nexport default class DesignLibraryConfirmImportDialog extends Vue {\n  @Prop()\n  provider?: DesignProvider;\n\n  @Prop()\n  providerData?: DesignLibraryData;\n\n  @Prop({ default: false })\n  loading!: boolean;\n\n  @Prop({ default: false })\n  showPasswordForm!: boolean;\n\n  importProvider() {\n    logEvent(\"Design Library\", {\n      action: \"provider_imported\",\n      provider: this.provider?.name\n    });\n    this.$emit(\"import\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryConfirmImportDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryConfirmImportDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibraryConfirmImportDialog.vue?vue&type=template&id=37ee80bf&\"\nimport script from \"./DesignLibraryConfirmImportDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibraryConfirmImportDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibraryConfirmImportDialog.vue?vue&type=style&index=0&id=37ee80bf&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport \"@/sass/globals.scss\";\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  DesignLibraryData,\n  DesignLibraryDataV,\n  DesignProvider,\n  DesignSetDataV\n} from \"@/types/design-library\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport DesignLibraryStatusIcon from \"@/subapps/design-library/DesignLibraryStatusIcon.vue\";\nimport DesignLibraryImportingDialog from \"@/subapps/design-library/DesignLibraryImportingDialog.vue\";\nimport Notifications from \"@/components/Notifications/Notifications.vue\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\nimport { centerDialogInScreen } from \"@/subapps/manage-templates/lib/modal-position\";\nimport { setLastUsedDesignProviderUrl } from \"@/lib/design-library/design-library\";\nimport DesignLibraryPassword from \"@/components/Add/library/DesignLibraryPassword.vue\";\nimport LoadingSpinner from \"@/components/Reusable/LoadingSpinner.vue\";\nimport DesignLibraryItem from \"@/subapps/design-library/DesignLibraryItem.vue\";\nimport DesignLibraryConfirmImportDialog from \"@/subapps/design-library/DesignLibraryConfirmImportDialog.vue\";\nimport { logEvent } from \"@/util/tracking\";\n\n@Component({\n  components: {\n    DesignLibraryConfirmImportDialog,\n    DesignLibraryItem,\n    LoadingSpinner,\n    DesignLibraryPassword,\n    AlertBox,\n    Notifications,\n    DesignLibraryImportingDialog,\n    DesignLibraryStatusIcon,\n    Icon,\n    Dialog,\n    NiceButton,\n    Loading\n  }\n})\nexport default class ManageDesignLibrary extends Vue {\n  isLoading = true;\n  loadedData: DesignLibraryData = {\n    designProviders: [],\n    globalSettingsLastImportedFromUrl: null,\n    designPresetsLastImportedFromUrl: null,\n    fullSiteLastImportedFromUrl: null\n  };\n  showOverrideWarning = false;\n  showImportingDialog = false;\n  providerToImport?: DesignProvider | null = null;\n  loadingDesignSetData = false;\n\n  requiresPassword = false;\n  passwordValid = true;\n\n  get showPasswordForm() {\n    return this.requiresPassword && !this.passwordValid;\n  }\n\n  async mounted() {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_get_design_library_data\",\n        decoder: DesignLibraryDataV\n      }),\n      fold(\n        () => {\n          this.isLoading = false;\n        },\n        data => {\n          this.loadedData = data;\n          this.isLoading = false;\n          logEvent(\"Design Library\", {\n            action: \"design_library_viewed\"\n          });\n        }\n      )\n    );\n  }\n\n  get designProviders() {\n    return this.loadedData.designProviders\n      .filter(designProvider => !designProvider.isLocal)\n      .filter(designProvider => designProvider.type === \"complete_site\")\n      .reverse();\n  }\n\n  async getDesignSetData(maybePassword?: string) {\n    let url = this.providerToImport?.url;\n    this.loadingDesignSetData = true;\n\n    if (!url) return;\n\n    // If a password is provided, append it to the URL\n    if (maybePassword) {\n      const searchParams = new URLSearchParams();\n      const newUrl = new URL(url);\n\n      searchParams.append(\"password\", maybePassword);\n      newUrl.search = searchParams.toString();\n\n      url = newUrl.toString();\n    }\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: this.providerToImport?.isLocal\n          ? \"breakdance_get_local_design_set\"\n          : \"breakdance_get_external_design_set\",\n        decoder: DesignSetDataV,\n        friendlyName: \"Design Set Data\",\n        dataToPost: { url }\n      }),\n      fold(\n        () => {},\n        designSetData => {\n          this.requiresPassword = designSetData.requiresPassword || false;\n          this.passwordValid = !!designSetData.passwordValid;\n        }\n      )\n    );\n\n    this.loadingDesignSetData = false;\n  }\n\n  setProviderToImport(siteUrl: DesignProvider[\"url\"]) {\n    this.showOverrideWarning = true;\n    centerDialogInScreen();\n    this.providerToImport = this.designProviders.find(\n      provider => provider.url === siteUrl\n    );\n\n    this.getDesignSetData();\n  }\n\n  closeImportingDialog() {\n    this.showImportingDialog = false;\n    this.providerToImport = null;\n  }\n\n  closeOverrideWarningDialog() {\n    this.showOverrideWarning = false;\n    this.providerToImport = null;\n  }\n\n  async importFullSite() {\n    this.showOverrideWarning = false;\n    this.showImportingDialog = true;\n\n    if (this.providerToImport) {\n      this.loadedData.fullSiteLastImportedFromUrl = this.providerToImport.url;\n      setLastUsedDesignProviderUrl(this.providerToImport.url);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageDesignLibrary.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageDesignLibrary.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ManageDesignLibrary.vue?vue&type=template&id=6c9010a8&\"\nimport script from \"./ManageDesignLibrary.vue?vue&type=script&lang=ts&\"\nexport * from \"./ManageDesignLibrary.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ManageDesignLibrary.vue?vue&type=style&index=0&id=6c9010a8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport store from \"@/store/store\";\nimport vuetify from \"@/plugins/vuetify\";\nimport permission from \"@/lib/permissions/directive\";\nimport ManageDesignLibrary from \"@/subapps/design-library/ManageDesignLibrary.vue\";\nimport {\n  BdoxTranslationPlugin,\n  getTranslations\n} from \"@/lib/bdox-translations/bdox-translations\";\n\nVue.directive(\"permission\", permission);\nVue.config.productionTip = false;\n\nVue.use(BdoxTranslationPlugin, { getTranslations });\n\nnew Vue({\n  store,\n  // @ts-ignore\n  vuetify,\n  render: h => h(ManageDesignLibrary)\n}).$mount(\"#design-library-wrapper\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 35;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t35: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkbuilder\"] = globalThis[\"webpackChunkbuilder\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998,64], () => (__webpack_require__(75057)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_c","_self","_setup","staticClass","isLoading","_vm","_l","designProvider","loadingDesignSetData","closeOverrideWarningDialog","showImportingDialog","providerToImport","staticRenderFns","render","this","_setupProxy","status","attrs","_e","Vue","__decorate","Prop","default_1","Component","components","Icon","component","on","close","importingDataStatus","_v","canCloseImportingDialog","_s","DesignLibraryImportingDialog","constructor","trashingTemplates","globalSettings","designPresets","postsAndPages","templates","headers","footers","popups","blocks","temporaryDataStatus","remoteHomepageId","importedHomepageIdOrFirstPostId","idsOfPostsAndPagesToImport","async","value","centerDialogInScreen","applyStatusToAllTemplateStatuses","setFullSiteLastImportedFromUrl","importGlobalSettings","importDesignPresets","getRemoteHomepageId","importPostsAndPages","trashAllTemplatesHeadersFooters","importAllTemplates","NotificationLogger","infoToImport","label","statusKey","isDone","getImportedSiteHomepageUrl","window","Breakdance","homeUrl","updatedUrl","URL","searchParams","append","href","$emit","makeWordPressAjaxRequest","action","dataToPost","key","data","url","decoder","t","pipe","PropertiesDataV","friendlyName","fold","regenerateGlobalSettingsCache","success","getPostsIdsToImport","length","importPostsAndPagesOneByOne","idsOfPostsToImport","anyPostFailed","anyPostSucceeded","firstPostId","id","postId","response","updateTemporaryState","statusName","result","Promise","all","trashTemplateByPostType","$templateType","templateType","idsOfTemplatesToImport","getTemplateIdsToImport","Object","values","flat","importTemplates","templateIds","importHeaders","headerIds","importFooter","footerIds","importPopups","popupIds","importBlocks","blockIds","TemplateIdsToImportV","idsOfTemplates","idsToImport","importTemplateById","stateName","res","DesignLibraryStatusIcon","provider","DesignLibraryItem","previewProvider","logEvent","name","open","NiceButton","$event","indexOf","showPasswordForm","providerData","DesignLibraryConfirmImportDialog","importProvider","default","DesignLibraryPassword","Dialog","LoadingSpinner","ManageDesignLibrary","loadedData","designProviders","globalSettingsLastImportedFromUrl","designPresetsLastImportedFromUrl","fullSiteLastImportedFromUrl","showOverrideWarning","requiresPassword","passwordValid","DesignLibraryDataV","filter","isLocal","type","reverse","maybePassword","URLSearchParams","newUrl","search","toString","DesignSetDataV","designSetData","setProviderToImport","siteUrl","find","getDesignSetData","closeImportingDialog","setLastUsedDesignProviderUrl","AlertBox","Notifications","Loading","permission","BdoxTranslationPlugin","getTranslations","store","vuetify","h","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}